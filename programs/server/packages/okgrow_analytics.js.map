{"version":3,"sources":["meteor://ðŸ’»app/packages/okgrow:analytics/server-main.js","meteor://ðŸ’»app/packages/okgrow:analytics/server/browser-policy.js","meteor://ðŸ’»app/packages/okgrow:analytics/server/publications.js"],"names":["Package","content","BrowserPolicy","allowOriginForAll","Meteor","Mongo","publish","userId","self","query","users","find","_id","fields","emails","Collection","_publishCursor","ready"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,4BAAP;AACA,OAAO,0BAAP,0D;;;;;;;;;;;ACDA;;AAEA,IAAIA,QAAQ,uBAAR,CAAJ,EAAsC;AACpC,MAAMC,UAAUD,QAAQ,uBAAR,EAAiCE,aAAjC,CAA+CD,OAA/D;AACA,MAAIA,OAAJ,EAAa;AACXA,YAAQE,iBAAR,CAA0B,mCAA1B;AACAF,YAAQE,iBAAR,CAA0B,uBAA1B;AACD;AACF,2F;;;;;;;;;;;ACRD,SAASC,MAAT,QAAuB,eAAvB;AACA,SAASC,KAAT,QAAsB,cAAtB;;AAEAD,OAAOE,OAAP,CAAe,IAAf,EAAqB,YAAY;AAC/B,MAAI,KAAKC,MAAT,EAAiB;AACf,QAAMC,OAAO,IAAb;AACA,QAAMC,QAAQL,OAAOM,KAAP,CACXC,IADW,CACN;AACJC,WAAK,KAAKL;AADN,KADM,EAGT;AACDM,cAAQ;AACNC,gBAAQ,CADF;AAEN,iCAAyB,CAFnB;AAGN,iCAAyB,CAHnB;AAIN,mCAA2B;AAJrB;AADP,KAHS,CAAd;AAWAT,UAAMU,UAAN,CAAiBC,cAAjB,CAAgCP,KAAhC,EAAuCD,IAAvC,EAA6C,gBAA7C;AACA,WAAOA,KAAKS,KAAL,EAAP;AACD;AACD,OAAKA,KAAL;AACD,CAlBD,2F","file":"/packages/okgrow_analytics.js","sourcesContent":["import \"./server/browser-policy.js\";\nimport \"./server/publications.js\";\n","/* global Package */\n\nif (Package[\"browser-policy-common\"]) {\n  const content = Package[\"browser-policy-common\"].BrowserPolicy.content;\n  if (content) {\n    content.allowOriginForAll(\"https://www.google.com/analytics/\");\n    content.allowOriginForAll(\"https://cdn.mxpnl.com\");\n  }\n}\n","import { Meteor } from \"meteor/meteor\";\nimport { Mongo } from \"meteor/mongo\";\n\nMeteor.publish(null, function () {\n  if (this.userId) {\n    const self = this;\n    const query = Meteor.users\n      .find({\n        _id: this.userId,\n      }, {\n        fields: {\n          emails: 1,\n          \"services.google.email\": 1,\n          \"services.github.email\": 1,\n          \"services.facebook.email\": 1,\n        },\n      });\n    Mongo.Collection._publishCursor(query, self, \"AnalyticsUsers\");\n    return self.ready();\n  }\n  this.ready();\n});\n"]}