{"version":3,"sources":["meteor://ðŸ’»app/packages/buzzy-buzz:common-globals/lib/common-globals.js"],"names":["App","ICS","require","BuzzyGlobal","WAIT_PHRASE","REGEX_EMAIL","REGEX_PHONE","gSORT_ORDER","ASCENDING","DESCENDING","gCOMMENT_LIMIT","gACTIVITY_LIMIT","gCOMMENT_PAGE_LIMIT","gMICROAPPDATA_LIMIT","gCOMMENT_MAX_LIMIT","gDEFAULT_LIMIT","gCOMMENT_TRUNCATE","gMAX_HISTORY","gMAX_COLLAGE","gFILEPICKER_EXPIRY","gPLAN_TYPE","BASIC","PRO","ENTERPRISE","gMEMBER_TYPE","ADMIN","MEMBER","gAddMembersExtraLimit","gMAX_LINK_DISPLAY_LENGTH","gNOTIFICATION_CHANNEL","EMAIL","SMS","gNOTIFICATION_ACTIONS","ADD","REMOVE","gIMAGE_QUALITY","gBASICTYPES","BUZZ","TEXT","COMMENTS","IMAGE","VIDEO","EMBEDDED_LINK","ATTACHMENT","TAG_QUERY","CONTENT_LAYOUT_ROW","CONTENT_LAYOUT_COLUMN","META_FIELD","SLIDESHOW","GALLERY","TWITTER","EXTERNAL_SERVICE","GOOGLE_MAP","TABLE","GOOGLE_DRIVE","FILEPICKER_GALLERY","FILEPICKER","APPLICATION","RESTCALL","BUTTON","PAYMENT","EMBED_BUZZ","GIPHY","gPAYMENT_TYPE","FIXED","VARIABLE","gMICROAPP_TYPE","DISPLAY_COLLAPSE","SUBMIT_STYLE","DISPLAY_MODAL","gMICROAPP_RATING_ICON","STAR","HEART","CHECK","SQUARE","BOLT","USD","gBUZZ_LINK_TYPE","gMICROAPP_PERMISSION_WHOCANVIEW","OWNER_AUTHOR_CREATOR","AUDIENCE_OWNER_AUTHOR","OWNER_AUTHOR_CREATORS_VIEWERS","gMICROAPP_SUBMIT_TYPE","INLINE","MODAL","NOFORM","gMICROAPP_ACTION_RULE_CONDITION","SUBMITTED","EDITED","DELETED","gAPPFIELD_LISTTYPE","CHECKLIST","BUTTONS","SELECTBOX","gAPPFIELD_VOTE_DISPLAY","BY_USER","BY_OPTION","NONE","gAPPFIELD_COLLAPSE","COLLAPSE","XS","S","MD","L","gAPPFIELD_DEFAULT_USETVOTE","value","option","alloWMultiple","displayAs","displayResults","gWATSON_SERVICE_TYPES","PERSONALITY_INSIGHTS","CONVERSATION","gAPPFIELDTYPE","CHECKBOX","NUMBER","DATETIME","EVENT","USERVOTE","AUTHOR","MAP","SELECT","RATING","ATTACHMENTS","FILE_ATTACHMENTS","IMAGE_ATTACHMENTS","VIEWERS","ROW_SELECTOR","TWITTER_FEED","WATSON_PERSONALITY_VIEW","gAPPFIELD_DATETYPE","type","format","TIME","DATE","MONTH","YEAR","gAPPFIELD_INTERACT","ANYONE","OWNERS_AND_AUTHORS","AUDIENCE_OWNERS_AND_AUTHORS","OWNERSAUTHOR_AND_CREATORS","gROLES","OWNER","AUDIENCE","FOLLOWER","gPRIVACY","PRIVATE","UNLISTED","PUBLIC","gRESOURCE_STATUS","DRAFT","PUBLISHED","ARCHIVED","gCOMMENTSTATUS","LIVE","FLAGGED","WAITING_APPROVAL","gCOMMENTTYPE","FILE","LINK","GOOGLEMAP","IMAGE_LIST","FILE_LIST","FILEPICKER_LIST","URL_LIST","gCOMMENTSHOW","gUSERSTATUS","PENDING","ACTIVE","gSPECIALBASICTYPES","gEXTERNALSERVICES","gSPECIALBASICTYPESCACHE","gACTIONS","COMMENTED","message","SENT_TO_ALL","NOTIFIED","SEND","gUSER_LIMIT","gUSER_CONTACTS_LIMIT","gTRUNCATE_COMMENT_TEXT","gFormatDate","inputDate","options","timezone","moment","console","log","tz","getCurrentUser","optToken","user","Meteor","users","findOne","isLoggedIn","userID","doc","userId","isValidNumber","number","rgx","match","formatCurrency","currency","toUpperCase","toFixed","replace","recalcTotalPayment","payment","amount","fee","hasFeeBuffer","applyFeeFixed","applyFeeVariable","feeFixed","feePercent","parseInt","recalcAmount","totalAmount","gRandomNumForLimit","limit","Math","floor","random","gGetFilePickerHandle","inputURL","indexOf","slice","length","throwError","isClient","Errors","insert","seen","gCapitalizeFirstLetter","inpStr","charAt","gIsValidPhonenumber","phonenumber","phoneno","IndexOfObjectInArray","myArray","property","searchTerm","i","len","gEmailIsVerified","email","emails","indexOfEmail","verified","gIsValidEmail","regex","RegExp","gIsCommentModerator","resourceID","currentResource","Resources","_id","editors","owners","gGetSortFilter","chosenSortFilter","sortFilter","updated","title","gGetUserforEmail","lowerCaseEmail","toLowerCase","Users","$or","gGetUserFormattedEmail","userName","gGetUserName","userEmail","gGetUserEmail","services","google","facebook","address","err","gEmailforUserID","gGetUserEmails","userIDs","usersCursor","find","$in","userEmailArray","map","getFirstMobile","profile","channels","mobileNumbers","_","filter","item","channel","gGetUserNameByID","name","split","gUniqueUsers","resource","userContacts","readers","uniq","concat","undefined","first","isUrl","s","regexp","test","emailCalenderInvite","dateData","cal","VCALENDAR","addProp","eventLocation","location","formatted_address","event","VEVENT","Date","VALUE","start","end","addComponent","nameFile","call","toString","gGetImageRank","image","rank","now","EXIF","tempDateTime","tempDate","tempTime","valueOf","gFindSubscription","subscriptions","plan","found","data","id","gIsSubScriptionMatch","subscriptionID","gIsPaidByTeam","stripeAccount","canPayOrUpgrade"],"mappings":"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","file":"/packages/buzzy-buzz_common-globals.js","sourcesContent":["// Write your package code here!\nApp = {};\n\n\nconst ICS = require('ics-js');\n\n\nBuzzyGlobal = new function(){\n    this.WAIT_PHRASE=[\"We're crunching the numbers. Sit tight!\",\"We're retrieving your Buzz.\",\"We're ironing your Buzz. Here it comes...\",\"We've sent the monkeys to fetch your Buzz. Please sit tight.\",\"Sit tight. We're busy buzzing your buzz.\",\"Hold that thought whilst we retrieve your Buzz.\",,\"We'll have your stuff in 3 push-ups. Go!\",\"We're sending in the troops to get your Buzz data...\",\"We will be right with you. Just fetching your Buzz.\",\"Thank your lucky stars! We're fetching your Buzz.\",\"Sit back. Relax. We're juicing your Buzz.\",\"The monkeys are grabbing your Buzz.\",\"Buzz me up Scotty! We're just pulling your Buzz together.\",\"We're just unwrapping your Buzz...\",\"We're squeezing your Buzz. Here it comes...\",\"We're just glueing your Buzz together...\",\"We're extracting your Buzz...\"];\n    //this.COLLECTIONFS_BASEURL=\"/files/files\";\n    this.REGEX_EMAIL = '([a-z0-9!#$%&\\'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&\\'*+/=?^_`{|}~-]+)*@' +\n        '(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)';\n\n    this.REGEX_PHONE = /^\\+(?:[0-9] ?){6,14}[0-9]$/;\n    this.gSORT_ORDER = {\n        ASCENDING:'asc',DESCENDING:'des'};\n    this.gCOMMENT_LIMIT = 20;\n    this.gACTIVITY_LIMIT = 15;\n    this.gCOMMENT_PAGE_LIMIT = 50;\n    this.gMICROAPPDATA_LIMIT = 10;\n    this.gCOMMENT_MAX_LIMIT = 500;\n    this.gDEFAULT_LIMIT = 10;\n    this.gCOMMENT_TRUNCATE = 100;\n    this.gMAX_HISTORY = 10;\n    this.gMAX_COLLAGE = 7;\n    this.gFILEPICKER_EXPIRY = 1000 + 60 * 60 * 24 * 365 * 100;\n\n    this.gPLAN_TYPE = {\n        BASIC:'buzzy_basic',PRO:'buzzy_pro',ENTERPRISE:'buzzy_enterprise'};\n    this.gMEMBER_TYPE = {\n        ADMIN:'admin',MEMBER:'member'};\n    this.gAddMembersExtraLimit = 10;\n\n    this.gMAX_LINK_DISPLAY_LENGTH = 40;\n\n    this.gNOTIFICATION_CHANNEL = {\n        EMAIL:'email',SMS:'sms'};\n    this.gNOTIFICATION_ACTIONS = {\n        ADD:'add',REMOVE:'remove'};\n    this.gIMAGE_QUALITY = 100;\n    this.gBASICTYPES = {\n        BUZZ:'buzz',TEXT:'text',COMMENTS:'comments',IMAGE:'buzzyimage',VIDEO:'video',\n        EMBEDDED_LINK:'EmbeddedLink',ATTACHMENT:'attachment',TAG_QUERY:'tag-query',\n        CONTENT_LAYOUT_ROW:'content-layout-row',CONTENT_LAYOUT_COLUMN:'content-layout-column',META_FIELD:'meta-field',\n        SLIDESHOW:'slideshow',GALLERY:'gallery',TWITTER:'twitter',EXTERNAL_SERVICE:'external-service', GOOGLE_MAP:'googlemap',\n        TABLE:'table', GOOGLE_DRIVE:'googledrive',FILEPICKER_GALLERY:'filepickergallery',\n        FILEPICKER:'filepicker', APPLICATION:'application',RESTCALL:'rest',BUTTON:'button',\n        PAYMENT:'payment',EMBED_BUZZ:'embeddedBuzz', GIPHY:'giphy'\n\n    };\n    this.gPAYMENT_TYPE = {FIXED:'fixed',VARIABLE:'variable'};\n    this.gMICROAPP_TYPE = {DISPLAY_COLLAPSE:'displayCollapse',SUBMIT_STYLE:'submitStyle',DISPLAY_MODAL:'displayModal'};\n    this.gMICROAPP_RATING_ICON = {STAR:'star',HEART: 'heart',CHECK: 'check',SQUARE: 'square',BOLT:'bolt',USD:'usd'};\n\n\n    this.gBUZZ_LINK_TYPE = {BUTTON:'button',IMAGE:'image'};\n    this.gMICROAPP_PERMISSION_WHOCANVIEW = {\n        OWNER_AUTHOR_CREATOR:'ownerauthorcreator',AUDIENCE_OWNER_AUTHOR:'audienceownerauthor',OWNER_AUTHOR_CREATORS_VIEWERS:'ownerauthorcreatorviewers'};\n    this.gMICROAPP_SUBMIT_TYPE = {INLINE:'inline',MODAL:'modal',NOFORM:'noform'};\n    this.gMICROAPP_ACTION_RULE_CONDITION = {SUBMITTED:'submitted',EDITED:'edited',DELETED:'deleted'};\n    this.gAPPFIELD_LISTTYPE = {CHECKLIST:'checklist',BUTTONS:'buttons',SELECTBOX:'selectbox'};\n    this.gAPPFIELD_VOTE_DISPLAY = {BY_USER:'user',BY_OPTION:'option',NONE:'none'};\n    this.gAPPFIELD_COLLAPSE = {COLLAPSE:'collapse',XS:'xs',S:'s',MD:'md',L:'l'};\n    this.gAPPFIELD_DEFAULT_USETVOTE = {\n        value:'Yes',\n        option: {\n            alloWMultiple: true,\n            displayAs:  this.gAPPFIELD_LISTTYPE.BUTTONS,\n            displayResults: this.gAPPFIELD_VOTE_DISPLAY.BY_USER\n        }\n    };\n\n    this.gWATSON_SERVICE_TYPES = {PERSONALITY_INSIGHTS:'watsonPersonalityInsights',CONVERSATION:'watsonConversation'};\n\n    this.gAPPFIELDTYPE = {CHECKBOX:'checkbox',TEXT:'text',NUMBER:'number',DATETIME:'datetime',EVENT:'event',USERVOTE:'uservote',\n        AUTHOR:'author',SUBMITTED:'submitted',MAP:'map',SELECT:'select',RATING:'rating', ATTACHMENTS:'attachments',\n        FILE_ATTACHMENTS:'files',IMAGE_ATTACHMENTS:'images', PAYMENT:'payment', VIEWERS:'viewers', ROW_SELECTOR:'rowselector', TWITTER_FEED:'twitterFeed',  WATSON_PERSONALITY_VIEW:'watsonPersonalityView'};\n    this.gAPPFIELD_DATETYPE = {\n        DATETIME:{type:'datetime', format:'h:mm a D MMM YYYY'},\n        TIME:{type:'time', format:'LT'},\n        DATE:{type:'date', format:'D MMM YYYY'},\n        MONTH:{type:'month', format:'MMM'},\n        YEAR:{type:'year', format:'YYYY'},\n        EVENT:{type:'event', format:'h:mm a D MMM YYYY'}\n    };\n    this.gAPPFIELD_INTERACT = {ANYONE:'anyone',OWNERS_AND_AUTHORS:'ownerauthor',\n        AUDIENCE_OWNERS_AND_AUTHORS:'audienceownerauthor', OWNERSAUTHOR_AND_CREATORS:'ownerauthorcreator'};\n    this.gROLES = {ANYONE:'anyone',OWNER:'owner',AUTHOR :'author', AUDIENCE:'audience', FOLLOWER:'follower'};\n    this.gPRIVACY = {PRIVATE:'private',UNLISTED:'unlisted',PUBLIC:'public'};\n    this.gRESOURCE_STATUS = {DRAFT:'draft',PUBLISHED:'published',ARCHIVED:'archived',DELETED:'deleted'};\n\n    this.gCOMMENTSTATUS = {LIVE:'live',DELETED:'deleted',FLAGGED:'flagged',WAITING_APPROVAL:'waiting-approval'};\n    this.gCOMMENTTYPE = {TEXT:'text',IMAGE:'image',VIDEO:'video',FILE:'file',\n        TWITTER:'twitter', LINK:'link',GOOGLEMAP:\"googlemap\",IMAGE_LIST:\"imagelist\",\n        FILE_LIST:\"file_list\",FILEPICKER_LIST:\"filepicker_list\",URL_LIST:\"url_list\",\n        GIPHY: \"giphy\", PAYMENT:\"payment\"};\n    this.gCOMMENTSHOW = {NONE:'none',INLINE:'along-side',MODAL:'modal'};\n\n    this.gUSERSTATUS = {PENDING:'pending',ACTIVE:'active'};\n\n    this.gSPECIALBASICTYPES = [\n        this.gBASICTYPES.TEXT,this.gBASICTYPES.GALLERY,this.gBASICTYPES.VIDEO,\n        this.gBASICTYPES.EXTERNAL_SERVICE\n\n    ];\n\n    this.gEXTERNALSERVICES = [\n        this.gBASICTYPES.TWITTER,\n        this.gBASICTYPES.EMBEDDED_LINK,this.gBASICTYPES.GOOGLE_MAP, this.gBASICTYPES.RESTCALL\n\n    ];\n\n    this.gSPECIALBASICTYPESCACHE = [];\n\n    this.gACTIONS = {COMMENTED:{type:'commented',message:'commented on'},SENT_TO_ALL:{type:'send',message:'sent to all'},PUBLISHED:{type:'published',message:'published'},DRAFT:{type:'draft',message:'created a draft'}, NOTIFIED:{type:'notified',message:'notified'}, SEND:{type:'send',message:'sent something related to'}};\n    this.gUSER_LIMIT = 9;\n    this.gUSER_CONTACTS_LIMIT = 200;\n    this.gTRUNCATE_COMMENT_TEXT = 40;\n    this.gFormatDate =  function(inputDate, options, timezone){\n        if(inputDate && typeof options === \"undefined\"){\n            return moment(inputDate).format('DD MMM YYYY');\n        } else if(inputDate && typeof options !== \"undefined\") {\n            if (options && timezone && typeof timezone !== \"undefined\"){\n                console.log(inputDate, options, timezone)\n                return moment(inputDate).tz(timezone).format(options);\n            } else {\n                return moment(inputDate).format(options);\n            }\n\n        } else {\n            return\n        }\n    };\n\n    this.getCurrentUser = function(optToken){\n        var user = Meteor.user();\n        if (!user && typeof optToken !== \"undefined\"){\n            user = Meteor.users.findOne({\n                \"services.resume.loginTokens.hashedToken\": optToken\n            });\n\n        }\n        return user;\n    };\n\n    this.isLoggedIn = function(userID, doc){\n        return Meteor.userId() === userID;\n    };\n\n    this.isValidNumber = function(number){\n        var rgx = /^[0-9]*\\.?[0-9]*$/;\n        return number.match(rgx);\n    };\n\n    this.formatCurrency = function(number, currency){\n        if (currency){\n            return  currency.toUpperCase() + \" \" +  number.toFixed(2).replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\");\n        } else {\n            return  number.toFixed(2).replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1,\");\n        }\n\n    };\n    this.recalcTotalPayment = function(payment, amount){\n\n        var fee = 0;\n        if (amount){\n            if (payment.hasFeeBuffer){\n                if (payment.applyFeeFixed || payment.applyFeeVariable){\n                    fee = payment.feeFixed + (amount * payment.feePercent);\n                }\n\n            }\n\n            return parseInt(amount + fee);\n        } else {\n            return 0;\n        }\n\n    };\n    this.recalcAmount = function(payment){\n\n        var amount = 0;\n        if (payment.totalAmount){\n            amount = payment.totalAmount;\n            if (payment.hasFeeBuffer){\n                if (payment.applyFeeFixed || payment.applyFeeVariable){\n                    amount = (payment.totalAmount  - payment.feeFixed) / (1 + payment.feePercent);\n                }\n\n            }\n            return parseInt(amount);\n        } else {\n            return 0;\n        }\n\n    };\n\n    this.gRandomNumForLimit = function(limit){\n        return Math.floor(Math.random() * limit) + 1\n            ;\n    }\n    this.gGetFilePickerHandle = function(inputURL){\n        if (inputURL.indexOf(\"?\") === -1){\n            return inputURL.slice(\"https://www.filepicker.io/api/file/\".length);\n        } else {\n            return inputURL.match(\"https://www.filepicker.io/api/file/(.*)/\")[1];\n        }\n    };\n\n    this.throwError = function(message, type) {\n        if (Meteor.isClient){\n            Errors.insert({message: message, seen: false, type:type})\n        } else {\n            console.log(\"BUZZY ERROR:\",message,type);\n            //throw new Meteor.Error(\"Buzzy Error\", message);\n        }\n\n    }\n    this.gCapitalizeFirstLetter = function(inpStr){\n        if (inpStr){\n            return inpStr.charAt(0).toUpperCase() + inpStr.slice(1);\n        }\n\n    }\n    this.gIsValidPhonenumber = function(phonenumber) {\n        var phoneno = /^\\+(?:[0-9] ?){6,14}[0-9]$/;\n        if(phonenumber.match(phoneno))\n        {\n\n            return true;\n        }\n        else\n        {\n\n            return false;\n        }\n    }\n\n    this.IndexOfObjectInArray = function(myArray, property, searchTerm) {\n        console.log(\"about to search\",myArray,  property, searchTerm)\n        for(var i = 0, len = myArray.length; i < len; i++) {\n            console.log(i,myArray[i],(myArray[i][property]), property, searchTerm);\n            if (myArray[i][property] === searchTerm) return i;\n        }\n        return -1;\n    }\n\n\n    this.gEmailIsVerified =  function(user, email){\n\n        if (typeof user.emails !== \"undefined\"){\n\n\n            var indexOfEmail = BuzzyGlobal.IndexOfObjectInArray(user.emails, \"address\", email );\n\n            if (indexOfEmail === -1 ){\n                return false;\n            } else {\n                return user.emails[indexOfEmail].verified;\n            }\n        } else {\n\n            return false;\n        }\n    }\n\n    this.gIsValidEmail = function(email){\n        var regex = new RegExp('^' + BuzzyGlobal.REGEX_EMAIL + '$', 'i');\n        var match = email.match(regex);\n        if (match){\n            return true;\n        } else {\n            return false;\n        }\n    }\n    this.gIsCommentModerator = function (userID, resourceID){\n        var currentResource = Resources.findOne({_id:resourceID});\n\n        if (currentResource && ((currentResource.editors.indexOf(userID) != -1) || (currentResource.owners.indexOf(userID) != -1) )){\n\n            return true;\n        } else {\n            return false;\n        }\n    }\n    this.gGetSortFilter = function (chosenSortFilter){\n        var sortFilter;\n        switch (chosenSortFilter){\n            case 'recently-updated':\n                return sortFilter = {updated:-1};\n                break;\n            case 'by-name':\n                return sortFilter = {title:1};\n                break;\n            default:\n                return sortFilter = {updated:-1};\n\n        }\n\n    }\n\n    this.gGetUserforEmail = function(email){\n\n        var lowerCaseEmail = email.toLowerCase();\n        console.log(\"BuzzyGlobal.gGetUserforEmail: \" + lowerCaseEmail)\n        return Users.findOne(\n            {$or:[\n                {'services.google.email':lowerCaseEmail},\n                {'services.facebook.email':lowerCaseEmail},\n                {'emails.address':lowerCaseEmail},\n                {'email':lowerCaseEmail},\n            ]}\n        );\n    }\n\n    this.gGetUserFormattedEmail = function(user){\n        var userName = BuzzyGlobal.gGetUserName(user);\n        var userEmail = BuzzyGlobal.gGetUserEmail(user);\n        if (userName !== userEmail){\n            return userName+ \" <\"+ userEmail +\">\";\n        } else {\n            return userEmail;\n        }\n\n    }\n\n    this.gGetUserEmail = function (user){\n        var email;\n        try {\n            if (typeof user.email != 'undefined'){\n\n                email = user.email;\n\n            } else if (typeof user.services != 'undefined'){\n\n                if (typeof user.services.google != 'undefined'){\n                    email = user.services.google.email;\n                } else if (typeof user.services.facebook != 'undefined'){\n                    email = user.services.facebook.email;\n                }\n\n            } else if (typeof emails != 'undefined') {\n                email = emails[0].address;\n\n            } else {\n                email = null;\n\n            }\n\n            return email;\n\n        } catch (err) {\n            BuzzyGlobal.throwError (\"Error getting email: \" + err);\n        }\n\n\n    }\n\n    this.gEmailforUserID = function(userID){\n        var user = Meteor.users.findOne({_id:userID});\n        return BuzzyGlobal.gGetUserEmail(user);\n    }\n\n    this.gGetUserEmails = function (userIDs) {\n\n        var usersCursor = Meteor.users.find({_id:{$in:userIDs}});\n        var userEmailArray = usersCursor.map(function (user) {\n            return BuzzyGlobal.gGetUserEmail(user);\n\n        });\n\n        return userEmailArray;\n    }\n\n    this.getFirstMobile = function (userID) {\n\n        var user = Users.findOne({_id:userID});\n        if (user){\n            if (typeof user.profile.channels !== \"undefined\"){\n                var mobileNumbers = _.filter(user.profile.channels, function(item){\n                    return item.channel === BuzzyGlobal.gNOTIFICATION_CHANNEL.SMS\n\n                });\n                if (mobileNumbers.length > 0){\n                    return mobileNumbers[0].address\n                }\n\n            }\n        }\n    }\n\n   this.gGetUserNameByID = function(userID){\n        var user = Users.findOne({_id:userID});\n        if (user){\n            return BuzzyGlobal.gGetUserName(user)\n        } else {\n            return \"Unknown\"\n        }\n    }\n\n   this.\n\n\n\n\n\n\n\n\n\n\n\n\n       gGetUserName = function (user){\n        var name = \"\";\n        var email = this.gGetUserEmail(user);\n\n        if (typeof user.name != 'undefined' && user.name != email){\n\n\n            name = user.name;\n        } else if (user.profile && typeof user.profile.name != 'undefined'){\n            name = user.profile.name;\n\n        } else if (typeof user.services != 'undefined'){\n\n\n            if (typeof user.services.google != 'undefined'){\n\n                name = user.services.google.name;\n            } else if (typeof user.services.facebook != 'undefined'){\n\n                name = user.services.facebook.name;\n            } else {\n                if (typeof email !== \"undefined\" && email){\n                    name = email.split(\"@\")[0];\n                } else {\n                    name = \"Unknown\";\n                }\n\n\n            }\n\n        } else if (typeof emails !== 'undefined' && emails) {\n\n            name = emails[0].address.split(\"@\")[0];\n\n        } else if (typeof email !== 'undefined' && email) {\n\n            name = email.split(\"@\")[0];\n\n        } else {\n            name = \"Unknown\";\n\n        }\n        //console.log(\"name:\" + name);\n        return name;\n\n    }\n\n    this.gUniqueUsers =  function(resource, limit) {\n\n        var userContacts = [];\n\n        var readers = (resource.readers?resource.readers:[]);\n        var editors = (resource.editors?resource.editors:[]);\n        var owners = (resource.owners?resource.owners:[]);\n        //resource.readers, resource.editors,resource.owners\n        userContacts = _.uniq(userContacts.concat(readers, editors,owners));\n        if (typeof limit != undefined && limit > 0){\n            return _.first(userContacts, limit)\n        } else {\n            return userContacts\n        }\n    };\n\n    this.isUrl = function(s){\n        var regexp = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?/;\n        return regexp.test(s);\n    };\n    this.emailCalenderInvite = function (resourceID, dateData) {\n        var cal = new ICS.VCALENDAR();\n        cal.addProp('VERSION', 2) // Number(2) is converted to '2.0'\n        cal.addProp('PRODID', 'Buzzy Buzz');\n        var eventLocation = (dateData.value && dateData.value.location && dateData.value.location.formatted_address)?dateData.value.location.formatted_address:\"\";\n        const event = new ICS.VEVENT();\n        event.addProp('UID');\n        event.addProp('DTSTAMP', new Date(), { VALUE: 'DATE-TIME' });\n        event.addProp('DTSTART', new Date(dateData.value.start), { VALUE: 'DATE-TIME' });\n        event.addProp('DTEND', new Date(dateData.value.end), { VALUE: 'DATE-TIME' });\n        event.addProp('LOCATION', eventLocation, { VALUE: 'STRING' });\n        event.addProp('SUMMARY', dateData.value.title, { VALUE: 'STRING' });\n\n        cal.addComponent(event);\n        //console.log(cal.toString());\n        //cal.toBlob()\n        var nameFile = moment().format() + '.ics';\n        Meteor.call(\"microAppEmailCalendar\", resourceID, cal.toString(), dateData);\n\n\n    };\n    this.gGetImageRank = function(image){\n        var rank = Date.now();\n        if (typeof image.EXIF !== \"undefined\" && image.EXIF){\n            var tempDateTime = image.EXIF[\"EXIF DateTimeOriginal\"];\n            console.log(\"tDateTime\", tempDateTime);\n            if (tempDateTime){\n                var tempDate = tempDateTime.match(/^.*(\\d{4}:\\d{2}:\\d{2}).*/)[1].replace(/:/g, '-');\n                var tempTime = tempDateTime.match(/^.*(\\d{2}:\\d{2}:\\d{2}).*/)[1];\n                rank = moment(tempDate + \" \" + tempTime).valueOf();\n            }\n\n\n        }\n        return rank;\n\n    };\n\n    this.gFindSubscription = function(subscriptions, plan){\n        var found = false;\n        for (i = 0; (i < subscriptions.data.length && !found); i++){\n\n            if (subscriptions.data[i].plan.id === plan){\n                return subscriptions.data[i];\n                found = true;\n            }\n        }\n    };\n    this.gIsSubScriptionMatch = function(subscriptions, subscriptionID){\n        var found = false;\n        for (i = 0; (i < subscriptions.data.length && !found); i++){\n            if (subscriptions.data[i].id === subscriptionID){\n                return true;\n                found = true;\n            }\n        }\n        return false;\n    };\n\n    this.gIsPaidByTeam = function (stripeAccount, userID) {\n\n        var user = Users.findOne({_id:userID});\n        if (user && !user.subscriptionID){\n            return true;\n        } else if (user && stripeAccount && stripeAccount.subscriptions){\n\n            return BuzzyGlobal.gIsSubScriptionMatch(stripeAccount.subscriptions, user.subscriptionID)\n            //return ReactiveMethod.call(\"retrieveSingleSubscription\", user.subscriptionID);\n        } else {\n            return false;\n        }\n    }\n    this.canPayOrUpgrade = function (stripeAccount, userID) {\n\n        var user = Users.findOne({_id:userID});\n        if (user && !user.subscriptionID){\n            return true;\n        } else if (user && stripeAccount && stripeAccount.subscriptions){\n\n            if (BuzzyGlobal.gIsSubScriptionMatch(stripeAccount.subscriptions, user.subscriptionID)){\n                return true;\n            } else {\n                return false;\n            }\n\n            //return ReactiveMethod.call(\"retrieveSingleSubscription\", user.subscriptionID);\n        } else {\n            return false;\n        }\n    }\n\n\n}\n\n\n\n"]}